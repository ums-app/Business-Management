"use strict";(self.webpackChunkBusiness_Management=self.webpackChunkBusiness_Management||[]).push([[611],{611:(e,s,t)=>{t.r(s),t.d(s,{default:()=>A});var l=t(9950),a=t(4635),i=t(9154),n=t(4276),c=t(6220),d=t(8429),r=t(9933),o=t(329),h=t(7322),m=t(5214),x=t(7725),j=t(4333),u=t(5022),f=t(6974),p=t(6152),b=t(7246),g=t(6657),y=t(4414);const A=function(){const e=(0,d.Zp)(),[{authentication:s}]=(0,j.sq)(),[t,A]=(0,l.useState)(),w=(0,c.rJ)(n.db,"Employees"),[N,_]=(0,l.useState)();return(0,l.useEffect)((()=>{(async()=>{const e=(await(0,c.GG)(w)).docs.map((e=>({...e.data(),id:e.id})));A(e),console.log(e)})()}),[]),(0,l.useEffect)((()=>{t&&(async()=>{const e={};await Promise.all(t.map((async s=>{try{const t=await(0,x.ff)(s.email);console.log(t),e[s.email]=t}catch(t){e[s.email]="default",console.log(`Error fetching image for ${s.email}:`,t)}}))),_(e),console.log(e)})()}),[t]),(0,l.useEffect)((()=>{t&&(async()=>{const e={};await Promise.all(t.map((async s=>{const t=await(0,x.ff)(s.email);e[s.email]=t}))),_(e)})()}),[t]),s.isAuthenticated?s.roles.includes(u.A.ADMIN)||s.roles.includes(u.A.SUPER_ADMIN)?t&&N?(0,y.jsxs)("div",{children:[(0,y.jsx)(i.A,{text:(0,a.t)("add")+" "+(0,a.t)("employee"),onClick:()=>e("add"),btnType:b.A.modern}),(0,y.jsx)("h1",{className:"margin_10 title",children:(0,a.t)("employees")}),(0,y.jsx)("div",{className:"table_container ",children:(0,y.jsxs)("table",{className:"full_width custom_table table_row_hover",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:(0,a.t)("number")}),(0,y.jsx)("th",{children:(0,a.t)("image")}),(0,y.jsx)("th",{children:(0,a.t)("name")}),(0,y.jsx)("th",{children:(0,a.t)("lastName")}),(0,y.jsx)("th",{children:(0,a.t)("jobTitle")}),(0,y.jsx)("th",{children:(0,a.t)("phoneNumber")}),(0,y.jsx)("th",{children:(0,a.t)("salary")})]})}),(0,y.jsxs)("tbody",{children:[null===t||void 0===t?void 0:t.map(((s,t)=>(0,y.jsxs)("tr",{className:" cursor_pointer hover",onClick:()=>e("/employees/"+s.id),children:[(0,y.jsx)("td",{children:t+1}),(0,y.jsx)("td",{children:(0,y.jsx)(g.A,{imgURL:N[s.email],height:"60px",width:"60px",alt:(0,a.t)("user")+" "+(0,a.t)("image")})}),(0,y.jsx)("td",{children:s.name}),(0,y.jsx)("td",{children:s.lastName}),(0,y.jsxs)("td",{children:[s.jobTitle," "]}),(0,y.jsx)("td",{children:s.phoneNumber}),(0,y.jsx)("td",{children:s.salary})]},s.id))),0==(null===t||void 0===t?void 0:t.length)&&(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:7,children:(0,a.t)("notExist")})})]})]})})]}):(0,y.jsxs)(r.A,{children:[(0,y.jsx)(m.A,{}),(0,y.jsx)(o.A,{}),(0,y.jsx)(h.A,{})]}):(0,y.jsx)(f.default,{}):(0,y.jsx)(p.A,{})}}}]);