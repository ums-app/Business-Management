(self.webpackChunkBusiness_Management=self.webpackChunkBusiness_Management||[]).push([[651],{8964:(e,s,l)=>{"use strict";l.d(s,{wy:()=>o,yv:()=>i});var t=l(9210),n=l.n(t);const a="your-secret-key";function i(e,s){return{encryptedKey:n().AES.encrypt(e,a).toString(),encryptedValue:n().AES.encrypt(s,a).toString()}}function o(e){const s=localStorage.getItem(e);if(e&&s){const{decryptedKey:l,decryptedValue:t}=function(e,s){return{decryptedKey:n().AES.decrypt(e,a).toString(n().enc.Utf8),decryptedValue:n().AES.decrypt(s,a).toString(n().enc.Utf8)}}(e,s);return{key:l,value:t}}return null}},5032:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>O});var t=l(9950),n=l(6509),a=l(8429);const i=()=>{const[e,s]=(0,t.useState)(navigator.onLine),l=()=>{s(navigator.onLine)};return(0,t.useEffect)((()=>(window.addEventListener("online",l),window.addEventListener("offline",l),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",l)})),[]),e};var o=l(4635),c=l(4414);const r=e=>{const[s,l]=(0,t.useState)(!1),r=(0,t.useRef)(null),{id:d}=(0,a.g)(),p=i();(0,t.useEffect)((()=>{const e=r.current,s=()=>{e.scrollTop>200?l(!0):l(!1)};return e.addEventListener("scroll",s),()=>{e.removeEventListener("scroll",s)}}),[]),(0,t.useEffect)((()=>{_()}),[d]);const _=()=>{r.current.scrollTo({top:0,behavior:"smooth"})};return(0,c.jsx)("div",{className:"wrapper box_sizing_border_box",id:"wrapper",ref:r,children:(0,c.jsxs)("div",{className:"body_container",children:[!p&&(0,c.jsxs)("div",{className:"internet_status fade_in",children:[(0,c.jsx)("i",{className:n.A.dangerFill}),(0,c.jsx)("span",{children:(0,o.t)("offline")})]}),s&&(0,c.jsx)("div",{className:"back_to_top position_fixed display_flex "+(s?"fade_in":"fade_out"),children:(0,c.jsx)("button",{onClick:_,className:"display_flex align_items_center justify_content_center cursor_pointer border_none outline_none background_gen_bg_color border_radius_50",children:(0,c.jsx)("i",{className:`${n.A.arrowUpShort} text_color`})})}),e.children]})})};var d=l(4333),p=l(3711),_=l(549),m=l(3542);const h=function(){const[e,s]=(0,t.useState)(!1),l=(0,t.useRef)(null),[{locale:a},i]=(0,d.sq)(),o=()=>{s((e=>!e))};return(0,t.useEffect)((()=>{document.documentElement.dir="en"===a?"ltr":"rtl",document.documentElement.lang="en"===a?"en":"fa",console.log(document.documentElement.dir),console.log(a)}),[a]),(0,m.Wr)(l,(()=>{s(!1)})),console.log(a),(0,c.jsxs)("div",{className:"lang",ref:l,children:[(0,c.jsxs)("div",{className:"lanBox",onClick:o,children:[(0,c.jsx)("i",{className:n.A.translate}),(0,c.jsxs)("div",{className:"lang_slc",children:[a," ",!a&&"fa"]}),(0,c.jsx)("i",{className:n.A.arrowDown})]}),(0,c.jsxs)("div",{className:"lang_menu showLangBox "+(e&&"show"),children:[(0,c.jsx)("div",{onClick:()=>{"en"!=a&&(i({type:_.QN.CHANGE_LOCALE,payload:{lang:"en"}}),o())},children:"English (en)"}),(0,c.jsx)("div",{onClick:()=>{"fa"!=a&&(i({type:_.QN.CHANGE_LOCALE,payload:{lang:"fa"}}),o())},children:"Farsi (fa)"})]})]})};var x=l(7725);const u=e=>{let{isDark:s,darkModeHandler:l}=e;const i=(0,a.Zp)(),[{authentication:r,navbarCollapse:u},j]=(0,d.sq)(),[N,g]=(0,t.useState)(!0),[f,y]=(0,t.useState)(""),[v,k]=(0,t.useState)(!1),A=(0,t.useRef)();(0,m.Wr)(A,(()=>{k(!1)})),(0,t.useEffect)((()=>{(0,x.ff)(r.email).then((e=>{console.log(e),y(e)}))}),[null===r||void 0===r?void 0:r.email]);const S=()=>{k((e=>!e))},b=()=>{S(),j({type:_.QN.LOGOUT}),j({type:_.QN.HIDE_ASKING_MODAL}),i("/")};return(0,c.jsx)("section",{className:"header_container ",children:(0,c.jsxs)("div",{className:"header display_flex align_items_center justify_content_space_between padding_left_10 padding_right_10",children:[(0,c.jsx)("div",{className:"toggle_header_navbar position_relative display_flex justify_content_center",children:(0,c.jsx)("div",{className:"toggle_header_icon display_flex align_items_center justify_content_center border_radius_50",onClick:()=>{j({type:_.QN.COLLAPSE_NAVBAR})},children:u?(0,c.jsx)("i",{className:`${n.A.list} text_color cursor_pointer`}):(0,c.jsx)("i",{className:`${n.A.cross} text_color cursor_pointer`})})}),(0,c.jsxs)("div",{className:"display_flex align_items_center ",children:[(0,c.jsx)(h,{}),(0,c.jsx)("div",{className:"dark_mode_toggle header_box_size cursor_pointer display_flex",onClick:l,title:(0,o.t)("changeTheme"),children:s?(0,c.jsx)("i",{className:n.A.brightnessHigh}):(0,c.jsx)("i",{className:n.A.moon})}),r.isAuthenticated&&(0,c.jsxs)("div",{className:"user_profile user_select_none display_flex",ref:A,onClick:S,children:[(0,c.jsxs)("div",{className:"user_profile_img_container display_flex position_relative border_radius_50",children:[N&&(0,c.jsx)(p.A,{}),(0,c.jsx)("img",{src:f,className:"user_profile_img position_absolute",alt:"user_image",onLoad:()=>g(!1)})]}),(0,c.jsxs)("p",{className:"text_color",children:[r.name," ",r.lastname]}),(0,c.jsxs)("div",{className:"lang_menu showLangBox "+(v&&"show"),children:[(0,c.jsx)("div",{onClick:()=>{j({type:_.QN.SHOW_ASKING_MODAL,payload:{show:!0,message:"logoutMessage",btnAction:b,id:null}})},children:(0,o.t)("logout")}),(0,c.jsx)("div",{children:(0,o.t)("settings")})]})]})]})]})})};var j=l(2074),N=l(1823),g=l(8484);const f=e=>{let{to:s,id:l,children:t,...n}=e;const i=(0,a.x$)(s);let o=(0,a.RQ)({path:i.pathname,end:!1});return"/"==s&&"/"!=window.location.pathname&&(o=!1),(0,c.jsx)("li",{className:"link"+(o?" active ":""),id:l,children:(0,c.jsx)(j.N_,{to:s,...n,children:t})})},y=()=>{var e,s,l,t,i;const[{authentication:r,navbarCollapse:p},m]=(0,d.sq)(),h=(0,a.Zp)(),x=()=>{m({type:_.QN.SHOW_ASKING_MODAL,payload:{show:!0,message:"logoutMessage",btnAction:u,id:null}})},u=()=>{m({type:_.QN.LOGOUT}),m({type:_.QN.HIDE_ASKING_MODAL}),h("/")};return(0,c.jsxs)("div",{className:`navbar ${p&&" active_nav_right "} display_flex flex_direction_column justify_content_space_between`,children:[r.userType==g.zO.EMPLOYEE||"SUPER_ADMIN"==r.userType&&(0,c.jsx)("div",{className:"navbar_menu position_absolute overflow_y_scroll",children:(0,c.jsxs)("ul",{className:"navbar_content",children:[(0,c.jsxs)(f,{to:"/",id:"home_link",children:[(0,c.jsx)("i",{className:n.A.door}),(0,c.jsx)("span",{children:(0,o.t)("home")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#home_link",place:"left",className:"toolTip_style",children:(0,o.t)("home")}),(0,c.jsxs)(f,{to:"/sales",id:"sales_link",children:[(0,c.jsx)("i",{className:n.A.card3}),(0,c.jsx)("span",{children:(0,o.t)("sales")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#sales_link",place:"left",className:"toolTip_style",children:(0,o.t)("sales")}),(0,c.jsxs)(f,{to:"/purchase-products",id:"purchases_link",children:[(0,c.jsx)("i",{className:n.A.hangBag}),(0,c.jsx)("span",{children:(0,o.t)("purchases")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#purchases_link",place:"left",className:"toolTip_style",children:(0,o.t)("purchases")}),(0,c.jsxs)(f,{to:"/consumptions",id:"consumptions_link",children:[(0,c.jsx)("i",{className:n.A.consumptions}),(0,c.jsx)("span",{children:(0,o.t)("consumptions")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#consumptions_link",place:"left",className:"toolTip_style",children:(0,o.t)("consumptions")}),(0,c.jsxs)(f,{to:"/depot",id:"depot_link",children:[(0,c.jsx)("i",{className:n.A.building}),(0,c.jsx)("span",{children:(0,o.t)("depot")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#depot_link",place:"left",className:"toolTip_style",children:(0,o.t)("depot")}),(0,c.jsxs)(f,{to:"/reports",id:"reports_link",children:[(0,c.jsx)("i",{className:n.A.reports}),(0,c.jsx)("span",{children:(0,o.t)("reports")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#reports_link",place:"left",className:"toolTip_style",children:(0,o.t)("reports")}),(0,c.jsxs)(f,{to:"/files",id:"files_link",children:[(0,c.jsx)("i",{className:n.A.folderOpen}),(0,c.jsx)("span",{children:(0,o.t)("files")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#products_link",place:"left",className:"toolTip_style",children:(0,o.t)("files")}),(0,c.jsxs)(f,{to:"/products",id:"products_link",children:[(0,c.jsx)("i",{className:n.A.stack}),(0,c.jsx)("span",{children:(0,o.t)("products")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#products_link",place:"left",className:"toolTip_style",children:(0,o.t)("products")}),r.roles.includes("SUPER_ADMIN")&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(f,{CustomeLinks:!0,to:"/partners",id:"partners_link",children:[(0,c.jsx)("i",{className:n.A.diagram}),(0,c.jsx)("span",{children:(0,o.t)("partners")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#partners_link",place:"left",className:"toolTip_style",children:(0,o.t)("partners")})]}),(0,c.jsxs)(f,{to:"/employees",id:"employees_link",children:[(0,c.jsx)("i",{className:n.A.peopleFill}),(0,c.jsx)("span",{children:(0,o.t)("employees")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#employees_link",place:"left",className:"toolTip_style",children:(0,o.t)("employees")}),(0,c.jsxs)(f,{to:"/customers",id:"customers_link",children:[(0,c.jsx)("i",{className:n.A.personVideo}),(0,c.jsx)("span",{children:(0,o.t)("customers")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#customers_link",place:"left",className:"toolTip_style",children:(0,o.t)("customers")}),(0,c.jsxs)(f,{to:"/representations",id:"representations_link",children:[(0,c.jsx)("i",{className:n.A.geoAlt}),(0,c.jsx)("span",{children:(0,o.t)("representations")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#representations_link",place:"left",className:"toolTip_style",children:(0,o.t)("representations")}),(null===r||void 0===r||null===(e=r.roles)||void 0===e?void 0:e.includes("SUPER_ADMIN"))&&(0,c.jsxs)(f,{to:"/events",id:"settings_link",children:[(0,c.jsx)("i",{className:n.A.logs}),(0,c.jsx)("span",{children:(0,o.t)("events")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#settings_link",place:"left",className:"toolTip_style",children:(0,o.t)("events")}),(0,c.jsxs)(f,{to:"/settings",id:"settings_link",children:[(0,c.jsx)("i",{className:n.A.gear}),(0,c.jsx)("span",{children:(0,o.t)("settings")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#settings_link",place:"left",className:"toolTip_style",children:(0,o.t)("settings")}),(0,c.jsx)("li",{className:"link",onClick:x,id:"logout",children:(0,c.jsxs)("a",{children:[(0,c.jsx)("i",{className:n.A.logout2}),(0,c.jsx)("span",{children:(0,o.t)("logout")})]})}),(0,c.jsx)(N.m_,{anchorSelect:"#logout",place:"left",className:"toolTip_style",children:(0,o.t)("logout")})]})}),(null===g.zO||void 0===g.zO||null===(s=g.zO.VISITOR)||void 0===s?void 0:s.toLowerCase())==(null===r||void 0===r||null===(l=r.userType)||void 0===l?void 0:l.toLowerCase())&&(0,c.jsx)("div",{className:"navbar_menu position_absolute",children:(0,c.jsxs)("ul",{className:"navbar_content",children:[(0,c.jsxs)(f,{to:"/",id:"home_link",children:[(0,c.jsx)("i",{className:n.A.door}),(0,c.jsx)("span",{children:(0,o.t)("home")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#home_link",place:"left",className:"toolTip_style",children:(0,o.t)("home")}),(0,c.jsxs)(f,{to:"/visitor-factors",id:"purchases_link",children:[(0,c.jsx)("i",{className:n.A.hangBag}),(0,c.jsx)("span",{children:(0,o.t)("sales")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#purchases_link",place:"left",className:"toolTip_style",children:(0,o.t)("sales")}),(0,c.jsxs)(f,{to:"/products",id:"products_link",children:[(0,c.jsx)("i",{className:n.A.stack}),(0,c.jsx)("span",{children:(0,o.t)("products")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#products_link",place:"left",className:"toolTip_style",children:(0,o.t)("products")}),(0,c.jsxs)(f,{to:"/visitor-customers",id:"customers_link",children:[(0,c.jsx)("i",{className:n.A.peopleFill}),(0,c.jsx)("span",{children:(0,o.t)("customers")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#customers_link",place:"left",className:"toolTip_style",children:(0,o.t)("customers")}),(0,c.jsxs)(f,{to:"/visitor-receipts",id:"customers_link",children:[(0,c.jsx)("i",{className:n.A.coin}),(0,c.jsx)("span",{children:(0,o.t)("receipts")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#customers_link",place:"left",className:"toolTip_style",children:(0,o.t)("receipts")}),(0,c.jsxs)(f,{to:"/visitor-salaries",id:"customers_link",children:[(0,c.jsx)("i",{className:n.A.cash}),(0,c.jsx)("span",{children:(0,o.t)("salaries")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#customers_link",place:"left",className:"toolTip_style",children:(0,o.t)("salaries")}),(0,c.jsxs)(f,{to:"/visitor-information",id:"customers_link",children:[(0,c.jsx)("i",{className:n.A.personVideo}),(0,c.jsx)("span",{children:(0,o.t)("personalInformation")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#customers_link",place:"left",className:"toolTip_style",children:(0,o.t)("personalInformation")}),(0,c.jsx)("li",{className:"link",onClick:x,id:"logout",children:(0,c.jsxs)("a",{children:[(0,c.jsx)("i",{className:n.A.logout2}),(0,c.jsx)("span",{children:(0,o.t)("logout")})]})}),(0,c.jsx)(N.m_,{anchorSelect:"#logout",place:"left",className:"toolTip_style",children:(0,o.t)("logout")})]})}),(null===(t=g.zO.CUSTOMER)||void 0===t?void 0:t.toLowerCase())==(null===r||void 0===r||null===(i=r.userType)||void 0===i?void 0:i.toLowerCase())&&(0,c.jsx)("div",{className:"navbar_menu position_absolute",children:(0,c.jsxs)("ul",{className:"navbar_content",children:[(0,c.jsxs)(f,{to:"/",id:"home_link",children:[(0,c.jsx)("i",{className:n.A.door}),(0,c.jsx)("span",{children:(0,o.t)("home")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#home_link",place:"left",className:"toolTip_style",children:(0,o.t)("home")}),(0,c.jsxs)(f,{to:"/customer-factors",id:"purchases_link",children:[(0,c.jsx)("i",{className:n.A.hangBag}),(0,c.jsx)("span",{children:(0,o.t)("purchases")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#purchases_link",place:"left",className:"toolTip_style",children:(0,o.t)("purchases")}),(0,c.jsxs)(f,{to:"/products",id:"products_link",children:[(0,c.jsx)("i",{className:n.A.stack}),(0,c.jsx)("span",{children:(0,o.t)("products")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#products_link",place:"left",className:"toolTip_style",children:(0,o.t)("products")}),(0,c.jsxs)(f,{to:"/customer-payments",id:"customers_link",children:[(0,c.jsx)("i",{className:n.A.cash}),(0,c.jsx)("span",{children:(0,o.t)("payments")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#customers_link",place:"left",className:"toolTip_style",children:(0,o.t)("payments")}),(0,c.jsxs)(f,{to:"/customer-information",id:"customers_link",children:[(0,c.jsx)("i",{className:n.A.personVideo}),(0,c.jsx)("span",{children:(0,o.t)("personalInformation")})]}),(0,c.jsx)(N.m_,{anchorSelect:"#customers_link",place:"left",className:"toolTip_style",children:(0,o.t)("personalInformation")}),(0,c.jsx)("li",{className:"link",onClick:x,id:"logout",children:(0,c.jsxs)("a",{children:[(0,c.jsx)("i",{className:n.A.logout2}),(0,c.jsx)("span",{children:(0,o.t)("logout")})]})}),(0,c.jsx)(N.m_,{anchorSelect:"#logout",place:"left",className:"toolTip_style",children:(0,o.t)("logout")})]})}),(0,c.jsx)("div",{className:"toggle_header_navbar position_relative display_flex justify_content_center ",children:(0,c.jsx)("div",{className:"toggle_header_icon display_flex align_items_center justify_content_center border_radius_50",onClick:()=>{m({type:_.QN.COLLAPSE_NAVBAR})},style:{backgroundColor:p?"var(--light-dark)":"red"},children:p?(0,c.jsx)("i",{className:`${n.A.list} text_color cursor_pointer`}):(0,c.jsx)("i",{className:`${n.A.cross} text_color cursor_pointer bold`})})})]})},v=l.p+"static/media/error.f52bffa81111de435467.png";var k=l(9154);class A extends t.Component{constructor(e){super(e),this.backToHome=()=>{this.state={hasError:!1,error:null},window.location.replace("/")},this.state={hasError:!1,error:null}}componentDidCatch(e,s){console.log(e),console.log(s),this.setState({hasError:!0,error:e})}render(){var e,s;return this.state.hasError?(0,c.jsxs)("div",{className:"display_flex align_items_center flex_direction_column",style:{margin:"auto"},children:[(0,c.jsx)("img",{src:v,alt:"error",style:{width:"40%",marginBottom:"20px"}}),(0,c.jsxs)("b",{children:[(0,o.t)("errorTitle"),":"]}),(0,c.jsx)("p",{children:null===(e=this.state)||void 0===e||null===(s=e.error)||void 0===s?void 0:s.message}),(0,c.jsxs)("div",{className:"actions_buttons",style:{marginTop:"20px"},children:[(0,c.jsx)(k.A,{icon:n.A.repeat,text:(0,o.t)("tryAgain"),onClick:()=>window.location.reload()}),(0,c.jsx)(k.A,{icon:n.A.door,text:(0,o.t)("backToHome"),onClick:this.backToHome})]})]}):this.props.children}}const S=A;var b=l(6131);const T=()=>{const e=(0,b.Ay)(),s=(0,a.Zp)();if(1==e.length)return;return(0,c.jsxs)("div",{className:"breadcrumbs display_flex justify_content_space_between",children:[(0,c.jsx)("div",{className:"display_flex ",children:e.map(((e,s)=>{let{match:l,breadcrumb:t}=e;return(0,c.jsxs)("span",{className:"bread_drumb_item",children:["/"==l.pathname?(0,c.jsx)("i",{className:n.A.door}):t.props.children.split(" ").map((e=>(0,o.t)(e.toLowerCase())+" "))," "]},s)}))}),(0,c.jsx)(k.A,{icon:"fa"==localStorage.getItem("locale")?n.A.arrowLeft:n.A.arrowRight,onClick:()=>{s(-1)},id:"back_button"}),(0,c.jsx)(N.m_,{anchorSelect:"#back_button",place:"top",className:"toolTip_style",children:(0,o.t)("back")})]})};var E=l(6152),w=l(4276),L=l(3779),C=(l(9786),l(8964));const O=function(){const e=(0,a.Zp)(),[{authentication:s,smallLoading:l,navbarCollapse:n},i]=(0,d.sq)(),[o,p]=(0,t.useState)("true"===localStorage.getItem("isDark")),[m,h]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const l=setInterval((()=>{(()=>{const l=s.email;l||(i({type:_.QN.LOGOUT}),i({type:_.QN.HIDE_ASKING_MODAL}),e("/login")),console.log("start tracking user account email is: ",l),(0,x.ht)(l).then((s=>{console.log("ready for checking user account is: ",s.disabled),(null!==s&&void 0!==s&&s.disabled||!s)&&(i({type:_.QN.LOGOUT}),i({type:_.QN.HIDE_ASKING_MODAL}),e("/login"))}))})()}),3e5);return()=>clearInterval(l)}),[s]),(0,t.useEffect)((()=>{const s=(0,L.hg)(w.j2,(s=>{if(s&&localStorage.length>0){const e={isAuthenticated:!0};for(let s=0;s<localStorage.length;s++){const l=localStorage.key(s),t=(0,C.wy)(l);t&&(e[t.key]=t.value)}e.roles=e.roles?e.roles.split(","):[],i({type:_.QN.SET_AUTHENTICATION,payload:e})}else i({type:_.QN.LOGOUT}),e("/login");h(!1)}));return()=>s()}),[i,e]),m?(0,c.jsx)(E.A,{}):(console.log("before laout getrendered: ",s),(0,c.jsx)(t.Suspense,{fallback:(0,c.jsx)(E.A,{}),children:(0,c.jsxs)("div",{className:"app "+(o?"theme-dark":"theme-light"),children:[(0,c.jsx)("span",{className:"background_colors"}),(0,c.jsx)("main",{className:"main",children:(0,c.jsxs)("div",{id:"viewport",children:[s.isAuthenticated&&(0,c.jsx)("div",{id:"navbar_container",className:n?"active_nav_right":"navbar_translate",children:(0,c.jsx)(y,{})}),(0,c.jsx)(S,{children:(0,c.jsxs)(r,{children:[s.isAuthenticated&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u,{isDark:o,darkModeHandler:()=>{localStorage.setItem("isDark",!o),p(!o)}}),(0,c.jsx)(T,{})]}),(0,c.jsx)("section",{className:"margin_top_20 padding_bottom_10",children:(0,c.jsx)(a.sv,{})}),l&&(0,c.jsx)(E.A,{})]})})]})})]})}))}},477:()=>{}}]);