"use strict";(self.webpackChunkBusiness_Management=self.webpackChunkBusiness_Management||[]).push([[791],{1791:(s,e,t)=>{t.r(e),t.d(e,{default:()=>g});var n=t(9950),a=t(9154),r=t(8429),l=t(4635),c=(t(1714),t(6220)),i=t(4276),d=t(9786),o=t(9933),x=t(5214),u=t(329),m=t(6509),j=t(4414);const h=s=>{let{totalStars:e=0,reviews:t=null}=s;if(Number.isNaN(e))return null;const n=[...Array(e)],a=[...Array(5-e)];return Array(),(0,j.jsxs)("div",{className:"star_rating",children:[n.map(((s,e)=>(e+=1,(0,j.jsx)("span",{className:"on",children:(0,j.jsx)("i",{className:m.A.star})},e+10)))),a.map(((s,e)=>(0,j.jsx)("span",{className:"off",children:(0,j.jsx)("i",{className:m.A.star})},e))),null!=t&&(0,j.jsxs)("span",{style:{margin:"0 4px"},children:["(",t,")"]})]})};var p=t(4333);const f=s=>{let{image:e,id:t,name:n,price:a,englishName:c,inventory:i,manufacturer:d,customeRef:o}=s;const x=(0,r.Zp)(),[{authentication:u}]=(0,p.sq)();return(0,j.jsxs)("section",{className:"card entering-animation box_shadow",onClick:()=>{(u.roles.includes("ADMIN")||u.roles.includes("SUPER_ADMIN"))&&x(t)},ref:o,children:[(0,j.jsx)("img",{src:e,className:"product_img",alt:(0,l.t)("product")+" "+(0,l.t)("name")}),(0,j.jsx)("div",{className:"product-info   ",children:(0,j.jsx)("table",{className:"full_width",children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:n}),(0,j.jsx)("td",{children:c})]}),"Customer"!=u.userType?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("tr",{className:"after-discount margin_bottom_5",children:[(0,j.jsx)("td",{children:(0,j.jsxs)("span",{className:"bullet",children:[(0,l.t)("price")," "]})}),(0,j.jsxs)("td",{children:[a,"  ",(0,j.jsx)("sup",{children:(0,l.t)("af")})]})]}),(0,j.jsxs)("tr",{className:"after-discount margin_bottom_5",children:[(0,j.jsxs)("td",{children:[(0,j.jsx)("span",{className:"bullet",children:(0,l.t)("inventory")})," "]}),(0,j.jsxs)("td",{children:[" ",i]})]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("tr",{className:"after-discount margin_bottom_5",children:[(0,j.jsx)("td",{children:(0,j.jsxs)("span",{className:"bullet",children:[(0,l.t)("manufacturer")," "]})}),(0,j.jsx)("td",{children:d})]}),(0,j.jsxs)("tr",{className:"after-discount margin_bottom_5",children:[(0,j.jsx)("td",{children:(0,j.jsx)("span",{className:"bullet",children:(0,l.t)("status")})}),(0,j.jsx)("td",{children:i>0?(0,l.t)("present"):(0,l.t)("notExist")})]})]}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:2,children:(0,j.jsx)(h,{totalStars:5})})})]})})})]})};t(9555);var _=t(9852);const N=function(){return(0,j.jsxs)("div",{className:"display_flex flex_direction_column",children:[(0,j.jsxs)("div",{className:"display_flex flex_flow_wrap justify_content_center",children:[(0,j.jsx)(_.A,{}),(0,j.jsx)(_.A,{}),(0,j.jsx)(_.A,{})]}),(0,j.jsxs)("div",{className:"display_flex flex_flow_wrap justify_content_center",children:[(0,j.jsx)(_.A,{}),(0,j.jsx)(_.A,{}),(0,j.jsx)(_.A,{})]})]})};var A=t(7725);const g=function(){const s=(0,r.Zp)(),[{authentication:e}]=(0,p.sq)(),t=(0,c.rJ)(i.db,d.A.Products),[m,h]=(0,n.useState)(),[_,g]=(0,n.useState)();(0,n.useEffect)((()=>{y()}),[]),(0,n.useEffect)((()=>{m&&(async()=>{const s={};await Promise.all(m.map((async e=>{const t=await(0,A.L6)(e.id);s[e.id]=t}))),g(s)})()}),[m]);const y=async()=>{const s=(await(0,c.GG)(t)).docs.map((s=>({...s.data(),id:s.id})));h(s),console.log(s)};return m&&_?(0,j.jsxs)("div",{children:[e.roles.includes("ADMIN")||e.roles.includes("SUPER_ADMIN")&&(0,j.jsx)(a.A,{text:(0,l.t)("add")+" "+(0,l.t)("product"),onClick:()=>s("add")}),(0,j.jsx)("h1",{className:"margin_10 title",children:(0,l.t)("products")}),(0,j.jsx)("div",{className:"display_flex flex_flow_wrap justify_content_center ",children:m.map((s=>(0,j.jsx)(f,{image:_[null===s||void 0===s?void 0:s.id]||"placeholder.jpg",id:s.id,name:s.name,price:s.price,inventory:s.inventory,englishName:s.englishName,manufacturer:s.manufacturer},s.id)))})]}):(0,j.jsxs)(o.A,{children:[e.roles.includes("ADMIN")||e.roles.includes("SUPER_ADMIN")&&(0,j.jsx)(x.A,{}),(0,j.jsx)(u.A,{}),(0,j.jsx)(N,{})]})}}}]);