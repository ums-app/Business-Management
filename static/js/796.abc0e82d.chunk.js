(self.webpackChunkBusiness_Management=self.webpackChunkBusiness_Management||[]).push([[796],{8964:(e,t,a)=>{"use strict";a.d(t,{wy:()=>r,yv:()=>i});var s=a(9210),l=a.n(s);const n="your-secret-key";function i(e,t){return{encryptedKey:l().AES.encrypt(e,n).toString(),encryptedValue:l().AES.encrypt(t,n).toString()}}function r(e){const t=localStorage.getItem(e);if(e&&t){const{decryptedKey:a,decryptedValue:s}=function(e,t){return{decryptedKey:l().AES.decrypt(e,n).toString(l().enc.Utf8),decryptedValue:l().AES.decrypt(t,n).toString(l().enc.Utf8)}}(e,t);return{key:a,value:s}}return null}},7353:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(5125),l=a(9950),n=a(8429),i=a(4333),r=a(4635),o=a(9714),c=a(6509),d=a(4276),m=a(3779),u=a(9154);const p=a.p+"static/media/bebvit.0e505079054f5d2ac9fc.jpg";var y=a(7725),_=(a(9786),a(6220),a(549)),g=a(8964),x=a(7246),h=a(4414);const f=function(){const[,e]=(0,i.sq)(),[t,a]=(0,l.useState)(null),[f,j]=(0,l.useState)(!1),[v,N]=(0,l.useState)(!1),S=(0,n.Zp)();return(0,h.jsx)(s.l1,{initialValues:{email:"",password:""},validationSchema:o.Ik({email:o.Yj().email((0,r.t)("invalidEmail")).max(50,(0,r.t)("emailMaxWidth")).required(`${(0,r.t)("email")} ${(0,r.t)("isRequireText")}`),password:o.Yj().min(5,(0,r.t)("passwordMinWidth")).required(`${(0,r.t)("passwordPlaceholder")} ${(0,r.t)("isRequireText")}`)}),onSubmit:async(t,s)=>{let{setSubmitting:l}=s;j(!0),(0,m.x9)(d.j2,t.email,t.password).then((s=>{e({type:_.QN.SET_SMALL_LOADING,payload:!0}),(0,y.ht)(t.email).then((t=>{if(l(!0),t.disabled)e({type:_.QN.LOGOUT});else{var a;const s={name:t.name,lastname:t.lastName,email:t.email,originalEntityId:t.originalEntityId,userType:t.userType,userId:t.id,roles:null===t||void 0===t||null===(a=t.roles)||void 0===a?void 0:a.join(","),locale:"fa"};Object.entries(s).forEach((e=>{let[t,a]=e;const{encryptedKey:s,encryptedValue:l}=(0,g.yv)(t,a);localStorage.setItem(s,l)})),localStorage.setItem("locale","fa"),console.log("dispatching data"),e({type:_.QN.SET_AUTHENTICATION,payload:{name:t.name,lastname:t.lastName,email:t.email,originalEntityId:t.originalEntityId,userType:t.userType,userId:t.id,roles:null===t||void 0===t?void 0:t.roles}}),console.log("nav to home"),S("/")}})).catch((e=>{a(e.message)})).finally((()=>{l(!1),a((0,r.t)("accountLocked")),e({type:_.QN.SET_SMALL_LOADING,payload:!1})}))})).catch((e=>{a(e.message)})).finally((()=>{j(!1),l(!1)}))},children:(0,h.jsx)("div",{className:"login display_flex",style:{backgroundImage:`url(${p})`},children:(0,h.jsxs)("div",{className:"login_form   full_width display_flex flex_direction_column justify_content_center align_items_center",children:[(0,h.jsx)("h1",{className:" title text_align_center bold",children:(0,r.t)("bebevit")}),(0,h.jsxs)("div",{className:"login_form_container",children:[(0,h.jsx)("h2",{className:"text_align_center bold",children:(0,r.t)("loginPageTitle")}),(0,h.jsxs)(s.lV,{className:"display_flex flex_direction_column",children:[t&&(0,h.jsx)("div",{className:"not_found_email_error_msg",children:t})," ",(0,h.jsxs)("div",{className:"login_form_input_box",children:[(0,h.jsx)(s.D0,{name:"email",id:"email",type:"email",placeholder:(0,r.t)("emailPlaceholder")}),(0,h.jsx)(s.Kw,{name:"email",component:"div",className:"error_msg"})]}),(0,h.jsxs)("div",{className:"login_form_input_box",children:[(0,h.jsxs)("div",{className:"login_password_input_container",children:[(0,h.jsx)(s.D0,{name:"password",id:"password",type:v?"text":"password",placeholder:(0,r.t)("passwordPlaceholder")}),(0,h.jsx)("span",{onClick:()=>N(!v),children:v?(0,h.jsx)("i",{className:c.A.eyeSlash}):(0,h.jsx)("i",{className:c.A.eye})})]}),(0,h.jsx)(s.Kw,{name:"password",component:"div",className:"error_msg"})]}),(0,h.jsx)("div",{className:"button_container display_flex justify_content_center align_items_center",children:(0,h.jsx)(u.A,{text:f?(0,r.t)("signInLoading"):(0,r.t)("signInBtn"),btnType:x.A.modern,type:"submit"})})]})]})]})})})}},477:()=>{}}]);